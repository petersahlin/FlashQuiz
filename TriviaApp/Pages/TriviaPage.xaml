<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModel="clr-namespace:TriviaApp.ViewModels"
             x:Class="TriviaApp.Pages.TriviaPage"
             BackgroundColor="{DynamicResource AppBackgroundColor}">

    <VerticalStackLayout>
        <Frame HeightRequest="250">
            <Label FontSize="Medium" Text="{Binding CurrentQuestion.Question, TargetNullValue='No question available'}" />
        </Frame>

        <Label Text="{Binding AnswersList.Count}" />
        <CollectionView 
            
            ItemsSource="{Binding AnswersList}" 
            SelectionMode="None"
            ItemSizingStrategy="MeasureAllItems">

            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Button Text="{Binding .}" 
                            Style="{DynamicResource QuestionButtonStyle}" 
                            Command="{Binding Source={RelativeSource 
                        AncestorType={x:Type 
                        viewModel:TriviaViewModel}}, 
                        Path=SubmitAnswerCommand}" 
                            CommandParameter="{Binding .}" />
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </VerticalStackLayout>
</ContentPage>
